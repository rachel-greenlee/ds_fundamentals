---
title: "Data Science Fundamentals: Data Prep"
author: "Rachel Greenlee"
date: "10/8/2021"
output:
  html_document:
    code_folding: hide
    df_print: paged
    toc: yes
    toc_float: yes
    toc_collapsed: yes
    toc_depth: 1
    theme: sandstone
    fig_width: 8
    fig_height: 5
  pdf_document:
    toc: yes
    toc_depth: '1'
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)

library(skimr) # nice alternative to summary() for seeing dataset at a glance
library(dplyr) # for piping function! other tools for manipulating datasets
```


# 1. Identify the goal 

*1. Understand the physical background. Take time to learn about the subject area and/or pull in an expert.
*2. Understand the objective. List out why you are beginning this analysis project, what are your questions? What would the answers allow you to do? (don't go fishing aimlessly as you will certainly find something but it could just be a coincidence)
*3. Make sure you know what the client wants. Sometimes all that is needed are simple descriptive statistics. 
*4. Put the problem into statistical terms. This can be challenging but do your best.


# 2. Obtain the data

First ask questions about how the data was collected (observational or experimental), check for nonresponse and missing values.See how the data is coded, waht the units of measurement are, and be on the lookout for data entry errors - perform sanity checks. 

## Various Methods {.tabset}

### CSV

To load in a .csv file from your local computer in the working directory. You can also use this method and paste a link in to an active webpage that display the csv data (like a github page when you click 'raw'). 

Link to chocolate kaggle page here: https://www.kaggle.com/rtatman/chocolate-bar-ratings?select=flavors_of_cacao.csv

```{r}
# reading in chocolate dataset from kaggle that I downloaded to data-raw folder
chocolate <- read.csv(file = "data-raw/flavors_of_cacao.csv")
```


### Web scraping

# 3. Data cleaning

## Consideration {.tabset}

### Rename variables

To rename all the columns in one go, in order, use colnames:

```{r}
colnames(chocolate) <- c('company', 'bean_origin_or_bar_name', 'id', 'review_year', 'cocoa_perc', 'company_location',
                         'rating', 'bean_type', 'broad_bean_origin')
```

To rename select columns via index or current name:

```{r}
# rename via dplyr


# rename(new_name = old_name,
#         new_name2 = old_name2)

# by index
# colnames(df)[index_column] <- new_name
```



### NAs



### Save cleaned data file

```{r}
write.csv(chocolate,"data-clean/chocolate.csv", row.names = FALSE)
```


### Variable types

# 4. Exploratory data analysis

## Options {.tabset}

### Tables

```{r}
skim(chocolate)
```


### Graphics

# 5. Transforming variables

## When & how {.tabset}

### Skewness

### Other things

# 6. Feature enginerring

## Derived variables

## Dummy variables

# 7. Create test and training sets


